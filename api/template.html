<!-- template.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Solar Maintenance Report</title>
  <style>
    body {
      font-size: 16px;
      padding: 20px;
      font-family: Arial, sans-serif;
    }
    p { margin: 20px 0px; }
    h1 {
      color: #0F4761;
      font-size: 28px;
      font-weight: normal;
      margin: 0px 0px 20px;
    }
    h2 {
      color: #0F4761;
      font-size: 24px;
      font-weight: normal;
      margin: 20px 0px 20px 30px;
    }
    h2 + h3 { margin-top: 20px; }
    h3 {
      font-size: 20px;
      font-weight: bold;
      margin: 40px 0px 20px;
      text-decoration: underline;
    }
    img {
      display: block;
      margin: 20px 0px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    table + table,
    textbox + h1 {
      margin-top: 30px;
    }
    pretitle {
      width: 100%;
      padding: 10px;
      display: block;
      box-sizing: border-box;
      border: 1px solid #000;
      border-bottom: 0px none;
    }
    textbox {
      width: 100%;
      padding: 10px;
      display: block;
      min-height: 120px;
      box-sizing: border-box;
      border: 1px solid #000;
    }
    textbox + pretitle { margin-top: 30px; }
    table th,
    table td {
      padding: 5px;
      font-size: 16px;
      text-align: left;
      border: 1px solid #000;
    }
    failure {
      color: red;
      font-weight: bold;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>Solar Maintenance - Overview</h1>

  <table>
    <tr>
      <td>1</td>
      <td>Name</td>
      <td>{{ name }}</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Address</td>
      <td>{{ address }}</td>
    </tr>
    <tr>
      <td>3</td>
      <td>System size (kW)</td>
      <td>{{ systemSize }}</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Is battery storage installed on-site</td>
      <td>{{ batteryStorage }}</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Is a Voltage optimiser installed on-site</td>
      <td>{{ voltageOptimiser }}</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Authorised Person</td>
      <td>{{ authorisedPerson }}</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Start date &amp; time</td>
      <td>!! timestamp !!</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Roof access available</td>
      <td>{{ roofAccess }}</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Cleaning performed</td>
      <td>{{ cleaningPerformed }}</td>
    </tr>
    <tr>
      <td>10</td>
      <td>RAMs completed</td>
      <td>{{ ramsCompleted }}</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Fireman's Switch</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Weather</td>
      <td>{{ weather }}</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Ambient temp</td>
      <td>{{ ambientTemp }}</td>
    </tr>
  </table>

  <h3>System Components:</h3>

  <table>
    <tr>
      <th></th>
      <th>Component</th>
      <th>P / F / N/A</th>
      <th>Failed on</th>
    </tr>

    !! systemComponents !!
  </table>

  <h3>System summary notes:</h3>
  <textbox>{{ notes }}</textbox>

  <h3>Inspection Limitations:</h3>
  <table>
    <tr>
      <td>No.</td>
      <td>Limitations</td>
      <td>Tick to confirm</td>
    </tr>

    !! limitations !!
  </table>

  <table>
    <tr>
      <td>Follow-up required</td>
      <td>{{ followUpRequired }}</td>
    </tr>
  </table>

  <h3>Follow-up details:</h3>
  <textbox>{{ followUpDetails }}</textbox>

  <h1>Solar Maintenance - System Components</h1>
  <h2>1. Inverters / AC Distribution</h2>
  <h3>Inverter info:</h3>

  <table>
    <tr>
      <td>Number of Inverters</td>
      <td>{{ invertersCount }}</td>
    </tr>
  <table>

  !! inverters !!

  <h3>Tasks:</h3>
  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! invertersTasks !!
  <table>

  <p>
    <failure>Fail:</failure> Cable condition, connection tightness
  </p>

  <p>
    <em>Category:</em> 1
  </p>
  
  <pretitle>Is the system safe to generate?</pretitle>
  <textbox>
    No, I have disconnected the inverter. Smell of burn upon removing the inverter boot. Burnt connection found, most likely due to connection used (bad lug).
  </textbox>
 
  <pretitle>What remedial work was done?</pretitle>
  <textbox>DC isolators open, inverter removed from the system.</textbox>

  <pretitle>What needs to happen next?</pretitle>
  <textbox>Recommend that AC isolator and H07 flex is installed.</textbox>

  <h3>
    Media upload of <failure>Fail</failure>:
  </h3>

  <h3>Inverter notes:</h3>
  <textbox>{{ invertersNotes }}</textbox>

  <h2>2. Mains Connection</h2>
  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! mainsConnectionTasks !!
  </table>

  <h3>Mains Connection notes:</h3>
  <textbox>{{ mainsConnectionNotes }}</textbox>

  <h2>3. PV Generator (DC Side)</h2>
  
  <h3>Modules soiling / shading:</h3>
  <textbox>{{ pvGeneratorPreNote }}</textbox>
  
  <h3>Media upload:</h3>
  !! pvGeneratorPhotos !!

  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! pvGeneratorTasks !!
  </table>

  <h3>String Tests:</h3>

  <p>
    <strong>Polarity Check:</strong> Yes
  </p>

  !! pvGeneratorStrings !!

  <h3>PV Generator (DC Side) notes:</h3>
  <textbox>{{ pvGeneratorNotes }}</textbox>
  
  <h2>4. Electrical Testing</h2>
  <h3>Tasks:</h3>
  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! electricalTestingTasks !!
  </table>

  <h3>Electrical Testing notes:</h3>
  <textbox>{{ electricalTestingNotes }}</textbox>

  <h2>5. Performance Checks</h2>
  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No</th>
    </tr>

    !! performanceChecksTasks1 !!
  </table>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>kWh</th>
    </tr>
    <tr>
      <td>2</td>
      <td>Export Value (kWh)</td>
      <td>{{ performanceChecksExportValue }}</td>
    </tr>
  </table>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No</th>
    </tr>

    !! performanceChecksTasks2 !!
  </table>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! performanceChecksTasks3 !!
  </table>

  <h3>Performance checking notes:</h3>
  <textbox>{{ performanceChecksNotes }}</textbox>

  <h2>6. Visual Inspection</h2>
  <h3>Tasks:</h3>
  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! visualChecksTasks1 !!
  </table>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No</th>
    </tr>

    !! visualChecksTasks2 !!
  </table>

  <p>
    <strong>Photos:</strong>
  </p>

  !! visualChecksTasks2Photos !!

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No</th>
    </tr>

    !! visualChecksTasks3 !!
  </table>

  <p>
    <strong>Photos:</strong>
  </p>

  !! visualChecksTasks3Photos !!

  <h3>Visual Inspection notes:</h3>
  <textbox>{{ visualChecksNotes }}</textbox>
                                    
  <h2>7. System Safety Risks</h2>
  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! safetyRisksTasks1 !!
  </table>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No</th>
    </tr>

    !! safetyRisksTasks2 !!
  </table>

  <p>
    <strong>Photos:</strong>
  </p>

  !! safetyRisksTasks2Photos !!

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Yes / No / N/A</th>
    </tr>

    !! safetyRisksTasks3 !!
  </table>

  <h3>System Safety notes:</h3>
  <textbox>{{ safetyRisksNotes }}</textbox>

  <h2>8. Battery Storage</h2>
  <h3>Battery info:</h3>
  <table>
    <tr>
      <td>Number of Batteries</td>
      <td>{{ batterySystemsCount }}</td>
    </tr>
  </table>

  !! batterySystems !!

  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! batterySystemsTasks !!
  </table>

  <h3>Battery Storage notes:</h3>
  <textbox>{{ batterySystemsNotes }}</textbox>

  <h2>9. Voltage Optimiser (VO)</h2>
  <h3>Voltage Optimiser info:</h3>

  <table>
    <tr>
      <td>Number of VO's </td>
      <td>{{ voltageOptimisersCount }}</td>
    </tr>
  </table>

  !! voltageOptimisers !!

  <h3>Tasks:</h3>

  <table>
    <tr>
      <th>No.</th>
      <th>Task</th>
      <th>Pass / Fail / N/A</th>
    </tr>

    !! voltageOptimisersTasks !!
  </table>

  <h3>Voltage Optimiser notes:</h3>
  <textbox>{{ voltageOptimisersNotes }}</textbox>
</body>
</html>
